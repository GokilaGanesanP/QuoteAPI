import './polyfills.server.mjs';
import{A as E,B as T,E as Q,I as j,L as F,a as S,b as s,c as u,d as p,e as C,f as b,g as i,h as r,i as l,j as k,k as n,l as d,m,t as x,v as w,w as y,x as f,y as I,z as A}from"./chunk-ONAKQ6IP.mjs";var D=(()=>{class t{intercept(e,o){let a=localStorage.getItem("authToken");return console.log(a),a&&(e=e.clone({setHeaders:{Authorization:`Bearer ${a}`}})),o.handle(e).pipe(S(g=>{throw g.status,g}))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac})}}return t})();var M=(()=>{class t{constructor(){this.title="QuoteApp"}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=p({type:t,selectors:[["app-root"]],standalone:!0,features:[d([{provide:I,useClass:D,multi:!0}]),m],decls:1,vars:0,template:function(o,a){o&1&&l(0,"router-outlet")},dependencies:[j]})}}return t})();var h=(()=>{class t{constructor(e){this.http=e,this.apiUrl="http://127.0.0.1:8000/api/quote"}getData(e){let o=new y({Authorization:`Bearer ${e}`});return this.http.get(this.apiUrl)}static{this.\u0275fac=function(o){return new(o||t)(u(f))}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var v=(()=>{class t{constructor(e){this.http=e,this.apiUrl="http://127.0.0.1:8000/api",this.token=null}login(e){return this.http.post(`${this.apiUrl}/login`,e)}saveToken(e){this.token=e,localStorage.setItem("authToken",e)}getToken(){return this.token||localStorage.getItem("authToken")}logout(){this.token=null,localStorage.removeItem("authToken")}static{this.\u0275fac=function(o){return new(o||t)(u(f))}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var H=(()=>{class t{constructor(e,o){this.apiService=e,this.authService=o,this.QuoteList=[]}ViewQuote(){this.login()}login(){this.authService.login({email:"gokila@gmail.com",password:"p@ssw0rd"}).subscribe(e=>{this.authService.saveToken(e.authorisation.token),this.token=this.authService.getToken(),this.loadQuoteInfo(this.token)},e=>{console.log("Login failed",e)})}loadQuoteInfo(e){this.apiService.getData(e).subscribe(o=>{console.log(o)},o=>{console.log("Error:",o)})}static{this.\u0275fac=function(o){return new(o||t)(b(h),b(v))}}static{this.\u0275cmp=p({type:t,selectors:[["app-view-quote"]],standalone:!0,features:[d([h,v]),m],decls:35,vars:0,consts:[["href",C`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css`,"rel","stylesheet"],[1,"container-xl"],[1,"table-responsive"],[1,"table-wrapper"],[1,"table-title"],[1,"row"],[1,"col-sm-6"],[1,"btn","btn-info",3,"click"],[1,"fas","fa-eye"],[1,"datatable-table","table","table-striped","table-hover","table-bordered","table-content"],[1,"center-align"]],template:function(o,a){o&1&&(l(0,"link",0),i(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4")(8,"b"),n(9,"Manage Boarding Information"),r()()(),i(10,"div",6)(11,"button",7),k("click",function(){return a.ViewQuote()}),l(12,"i",8),i(13,"span"),n(14," Display"),r()()()()(),i(15,"table",9)(16,"thead")(17,"tr",10)(18,"th"),n(19,"ACE ID"),r(),i(20,"th"),n(21,"First Name"),r(),i(22,"th"),n(23,"Last Name"),r(),i(24,"th"),n(25,"Route No"),r(),i(26,"th"),n(27,"Pickup"),r(),i(28,"th"),n(29,"Drop"),r(),i(30,"th"),n(31,"Actions"),r(),i(32,"th"),n(33,"Actions"),r()()(),l(34,"tbody"),r()()()())},dependencies:[w,A]})}}return t})();var R=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=p({type:t,selectors:[["app-add-quote"]],standalone:!0,features:[m],decls:2,vars:0,template:function(o,a){o&1&&(i(0,"p"),n(1,"add-quote works!"),r())}})}}return t})();var V=[{path:"",component:H},{path:"addquote",component:R}];var P={providers:[F(V),T()]};var L={providers:[Q()]},U=x(P,L);var $=()=>E(M,U),gt=$;export{gt as a};
